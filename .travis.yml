dist: xenial   # required for Python >= 3.7
language: python
python:
  - "3.7"
  - "3.7-dev"  # 3.7 development branch
  - "3.8-dev"  # 3.8 development branch
  - "nightly"  # nightly build

addons:
  sonarcloud:
    organization: "steguer"

script:
    - pipenv sync
    - pytest --cov simpleinject/ --cov-report xml
    - sonar-scanner

deploy:
  provider: pypi
  user: "Steguer"
  password:
    secure: "J7bhygB+xQCGW6T5Hjbho9EWBQD8kt0bPfKjgQsS/Lc9MV1JswlYWJJb4gWYWTbIcXvVFOmb0a69aKjefUM3JQlWhRhE5qykOoleat74aitLVW4h9IMXA4ZVU+8O6cdnuTkppNYvcQgKpvb8BK352NRWjTHuq5pb9O7UI0XWVxRwUPMmdfnBmkppKWPKccXErx5B8yo7alYPGGNOUwmMtYACLPqCmMV0asbbVNa9K0Ip0QKx0gg3SexIrNYu+Z0JBHOeKnmOqnvLpzGMk42aBD8bgLShrxyqOxVU45Muiny+5j/1vx6nCGw0kUff5LlICm+P7DF8qCQkkSwMDb5AF1YBgjg6OmjuNAab45FOmuBHB2jmwBLYPOLSel7rK9Rp/VQRXwzJGmaSey2WhFTIlW/4dn5NHm9m5NwO8y/0+Q1lMSiDarP3quOyT9bJxxBWdVX2gsXwUXxgJZ+ZK0YFZyyjCNZYA6R9BtVrcjCLO6EdJh8fKMwIf621m3aUWKVZ1xohf/AmfiCBIqaPOf5fz8W5Its0OXQ505jKE/8P3O1DS+Yb0KzlLw58G+xQsqQpQdx4BUMTqFB3E26U5bPAfEpKX3/HrpP6CPpLDLxOtEDV1z6kt5xmxR7pqXUIIT4VMHqqqk1NlxsDqr4KkmQqF9nPTsECDQlK4MLwLmEUcjc="
